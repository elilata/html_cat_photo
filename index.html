<!DOCTYPE html>
<html>
<style>
  #catslove {
    color: red;
  }
</style>
<body>
  <main>
    <h1>CatPhotoApp</h1>
    <section>
      <h2>Cat Photos</h2>
      <!-- TODO: Add link to cat photos -->
      <p>See more <a target="_blank" href="https://freecatphotoapp.com">cat photos</a> in our gallery.</p>
      <a href="https://freecatphotoapp.com"><img src="https://cdn.freecodecamp.org/curriculum/cat-photo-app/relaxing-cat.jpg" alt="A cute orange cat lying on its back."></a>
    </section>
    <section>
      <h2>Cat Lists</h2>
      <h3>Things cats love:</h3>
      <ul id="catslove">
        
      </ul>
      <figure>
        <img src="https://cdn.freecodecamp.org/curriculum/cat-photo-app/lasagna.jpg" alt="A slice of lasagna on a plate.">
        <figcaption>Cats <em>love</em> lasagna.</figcaption>  
      </figure>
      <h3>Top 3 things cats hate:</h3>
      <ul>
        <li>flea treatment</li>
        <li>thunder</li>
        <li>other cats</li>
      </ul>
      <figure>
        <img src="https://cdn.freecodecamp.org/curriculum/cat-photo-app/cats.jpg" alt="Five cats looking around a field.">
        <figcaption>Cats <strong>hate</strong> other cats.</figcaption>  
      </figure>
    </section>
    <section>
      <h2>Cat Form</h2>
      <form>
      </form>
    </section>
  </main>
  <button>Add what cats like</button>
</body>
<script>
  
  async function getData() {
    const url = "./catslove.json";
    let json = [];
    try {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(`Response status: ${response.status}`);
      }
      
      json = await response.json();
      console.log(json);
    } catch (error) {
      console.error(error.message);
    }
    return json;
  }
  
  function init() {
    console.log("Page loaded");
    
    let c = 0;
    const a = 5;
    const b = 6;
    c = a + b;
    
    console.log(`${a} + ${b} = ${c}`);
    
    const button = document.querySelector("button");
    const catsloveList = document.querySelector("#catslove");
    
    //function populateList(parent) { 
    //}
    
    const populateList = async (parent) => {
      clData = await getData();
      
      console.log("Populating list");
      catsloveList.innerHTML = "";
      
      clData.forEach(str => {
        const item=document.createElement("li");
        item.textContent=str;
        catsloveList.appendChild(item);
      });
    };
    
    
    button.addEventListener("click", (event) => {
      //button.textContent = `Click count: ${event.detail}`;
      populateList(catsloveList);
    });
  }
  
  window.addEventListener("load", init);
  
</script>
</html>